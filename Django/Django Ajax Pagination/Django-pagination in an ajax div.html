<!DOCTYPE html>
<!-- saved from url=(0024)http://bcurtu.com/?p=478 -->
<html lang="en-US"><!--<![endif]--><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    
<title>Django-pagination in an ajax div</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="template" content="Ignite 1.17">
<meta name="generator" content="WordPress 4.6.1">
<link rel="dns-prefetch" href="http://fonts.googleapis.com/">
<link rel="dns-prefetch" href="http://s.w.org/">
<link rel="alternate" type="application/rss+xml" title="Bosco Curtu » Feed" href="http://bcurtu.com/?feed=rss2">
<link rel="alternate" type="application/rss+xml" title="Bosco Curtu » Comments Feed" href="http://bcurtu.com/?feed=comments-rss2">
<link rel="alternate" type="application/rss+xml" title="Bosco Curtu » Django-pagination in an ajax div Comments Feed" href="http://bcurtu.com/?feed=rss2&amp;p=478">
<link rel="pingback" href="http://bcurtu.com/xmlrpc.php">
		<script type="text/javascript" async="" src="./Django-pagination in an ajax div_files/ga.js"></script><script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2\/svg\/","svgExt":".svg","source":{"concatemoji":"http:\/\/bcurtu.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.6.1"}};
			!function(a,b,c){function d(a){var c,d,e,f,g,h=b.createElement("canvas"),i=h.getContext&&h.getContext("2d"),j=String.fromCharCode;if(!i||!i.fillText)return!1;switch(i.textBaseline="top",i.font="600 32px Arial",a){case"flag":return i.fillText(j(55356,56806,55356,56826),0,0),!(h.toDataURL().length<3e3)&&(i.clearRect(0,0,h.width,h.height),i.fillText(j(55356,57331,65039,8205,55356,57096),0,0),c=h.toDataURL(),i.clearRect(0,0,h.width,h.height),i.fillText(j(55356,57331,55356,57096),0,0),d=h.toDataURL(),c!==d);case"diversity":return i.fillText(j(55356,57221),0,0),e=i.getImageData(16,16,1,1).data,f=e[0]+","+e[1]+","+e[2]+","+e[3],i.fillText(j(55356,57221,55356,57343),0,0),e=i.getImageData(16,16,1,1).data,g=e[0]+","+e[1]+","+e[2]+","+e[3],f!==g;case"simple":return i.fillText(j(55357,56835),0,0),0!==i.getImageData(16,16,1,1).data[0];case"unicode8":return i.fillText(j(55356,57135),0,0),0!==i.getImageData(16,16,1,1).data[0];case"unicode9":return i.fillText(j(55358,56631),0,0),0!==i.getImageData(16,16,1,1).data[0]}return!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i;for(i=Array("simple","flag","unicode8","diversity","unicode9"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script><script src="./Django-pagination in an ajax div_files/wp-emoji-release.min.js" type="text/javascript"></script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel="stylesheet" id="style-css" href="./Django-pagination in an ajax div_files/style.min.css" type="text/css" media="all">
<link rel="stylesheet" id="gallery-css" href="./Django-pagination in an ajax div_files/gallery.min.css" type="text/css" media="all">
<link rel="stylesheet" id="google-fonts-css" href="./Django-pagination in an ajax div_files/css" type="text/css" media="all">
<link rel="stylesheet" id="font-awesome-css" href="./Django-pagination in an ajax div_files/font-awesome.min.css" type="text/css" media="all">
<script type="text/javascript" src="./Django-pagination in an ajax div_files/jquery.js"></script>
<script type="text/javascript" src="./Django-pagination in an ajax div_files/jquery-migrate.min.js"></script>
<link rel="https://api.w.org/" href="http://bcurtu.com/?rest_route=/">
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://bcurtu.com/xmlrpc.php?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://bcurtu.com/wp-includes/wlwmanifest.xml"> 
<link rel="prev" title="Canons de tamariu" href="http://bcurtu.com/?p=476">
<link rel="next" title="Devolviendo a la comunidad" href="http://bcurtu.com/?p=482">
<link rel="canonical" href="http://bcurtu.com/?p=478">
<link rel="shortlink" href="http://bcurtu.com/?p=478">
<link rel="alternate" type="application/json+oembed" href="http://bcurtu.com/?rest_route=%2Foembed%2F1.0%2Fembed&amp;url=http%3A%2F%2Fbcurtu.com%2F%3Fp%3D478">
<link rel="alternate" type="text/xml+oembed" href="http://bcurtu.com/?rest_route=%2Foembed%2F1.0%2Fembed&amp;url=http%3A%2F%2Fbcurtu.com%2F%3Fp%3D478&amp;format=xml">
		<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
		<style type="text/css" id="syntaxhighlighteranchor"></style>

<style id="fit-vids-style">.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}</style></head>

<body id="ignite" class="wordpress ltr en en-us parent-theme y2016 m12 d09 h19 friday logged-out singular singular-post singular-post-478 not-front">

<!--skip to content link-->
<a class="skip-content" href="http://bcurtu.com/?p=478#main">Skip to content</a>

<header class="site-header" id="site-header" role="banner">

	<div class="title-info">
		<h2 class="site-title"><a href="http://bcurtu.com/" title="Bosco Curtu">Bosco Curtu</a></h2>	</div>
	
	<button id="toggle-navigation" class="toggle-navigation"><i class="fa fa-bars"></i></button>

<div class="menu-container menu-primary" id="menu-primary" role="navigation">

    <p>@bcurtu en twitter</p>

    <div class="menu-unset"><ul><li class="page_item page-item-207"><a href="http://bcurtu.com/?page_id=207">Curriculm Vitae (English version)</a></li><li class="page_item page-item-4"><a href="http://bcurtu.com/?page_id=4">Curriculum Vitae</a></li></ul></div>

    
</div><!-- #menu-primary .menu-container -->
</header>
<div id="overflow-container" class="overflow-container">

    
		<div class="breadcrumb-trail breadcrumbs" itemprop="breadcrumb"><span class="trail-begin"><a href="http://bcurtu.com/" title="Bosco Curtu" rel="home">Home</a></span>
			 <span class="sep">&gt;</span> <span class="trail-end">Django-pagination in an ajax div</span>
		</div>    <div id="main" class="main" role="main">   
    <div class="entry post publish author-admin post-478 format-standard category-djangopython">
                <div class="entry-meta-top">
            Published September 4th, 2008 by <a href="http://bcurtu.com/?author=1" title="Posts by Bosco" rel="author" class="url fn n" itemprop="url"><span itemprop="name">Bosco</span></a>        </div>
		<div class="entry-header">
			<h1 class="entry-title">Django-pagination in an ajax div</h1>
		</div>
		<div class="entry-content">
			<article>
				<p>I’ve been using <a href="http://code.google.com/p/django-pagination/" target="_blank">django-pagination</a> for a while. However I have needed a special feature: to paginate in a dynamic (ajax) loaded div.</p>
<p>I have patched django-pagination for this issue. I’ve attached 3 files with the patch:</p>
<ul>
<li><a href="http://bcurtu.com/wp-content/pagination_tags.py">pagination_tags.py</a>, with the applied changes. Replace the django-pagination templatetag file with this one.</li>
<li><a href="http://bcurtu.com/wp-content/pagination_tags.py.patch">pagination_tags.py.patch</a>, the patch with these changes</li>
<li><a href="http://bcurtu.com/wp-content/ajax_pagination.html">ajax_pagination.html</a>, a new template for this ajax pagination. Just put it in the django-pagination tamplates folder.</li>
</ul>
<p>To use this tag, just replace your {% paginate %} tag by the new {% ajax_paginate %}</p>
<p>The only requirements are to use <a href="http://jquery.com/" target="_blank">jQuery</a> and to have in the request context two new values:</p>
<ul>
<li>dynamic_div: The id of the div where the dynamic content is loaded</li>
<li>ref_url: The ajax url to load the paginated elements of the div</li>
</ul>
<p>As an example:</p>
<ul>
<li>An html with dynamic content:</li>
</ul>
<pre style="text-align: left;"><span style="font-family: courier new,monospace;"> &lt;div id="dynamic_tab"&gt;&amp;nbsp;&lt;/div&gt;</span><br style="font-family: courier new,monospace;"> <span style="font-family: courier new,monospace;"> &lt;script&gt;</span><br style="font-family: courier new,monospace;"><span style="font-family: courier new,monospace;"> jQuery().ready(function() {</span><br style="font-family: courier new,monospace;"> <span style="font-family: courier new,monospace;">  var tab=jQuery("#dynamic_tab");</span><br style="font-family: courier new,monospace;"><span style="font-family: courier new,monospace;">   tab.load("/an_ajax_list_view/") </span><br style="font-family: courier new,monospace;"> <span style="font-family: courier new,monospace;"> });</span><br style="font-family: courier new,monospace;"><span style="font-family: courier new,monospace;"> &lt;/script&gt;</span></pre>
<ul>
<li>The views.py:</li>
</ul>
<pre><span style="font-family: courier new,monospace;">def an_ajax_list_view(request):</span><br style="font-family: courier new,monospace;"><span style="font-family: courier new,monospace;"> ...</span><br style="font-family: courier new,monospace;"> <span style="font-family: courier new,monospace;"> context = RequestContext(request)</span><br style="font-family: courier new,monospace;"><span style="font-family: courier new,monospace;">  context['dynamic_div'] = 'dynamic_tab'</span><br style="font-family: courier new,monospace;"> <span style="font-family: courier new,monospace;"> context['ref_url'] = reverse('an_ajax_list-view',args=[])</span><br style="font-family: courier new,monospace;"><span style="font-family: courier new,monospace;"> ... </span><br style="font-family: courier new,monospace;"> <span style="font-family: courier new,monospace;"> return HttpResponse(render_to_string('my_dynamic_div_template.html',
</span> <span style="font-family: courier new,monospace;"> </span> <span style="font-family: courier new,monospace;"> </span> <span style="font-family: courier new,monospace;"> </span> <span style="font-family: courier new,monospace;"> </span> <span style="font-family: courier new,monospace;"> </span> <span style="font-family: courier new,monospace;"> </span> <span style="font-family: courier new,monospace;"> </span> <span style="font-family: courier new,monospace;"> </span> <span style="font-family: courier new,monospace;"> </span> <span style="font-family: courier new,monospace;"> </span> <span style="font-family: courier new,monospace;"> </span> <span style="font-family: courier new,monospace;"> </span> <span style="font-family: courier new,monospace;"> </span><span style="font-family: courier new,monospace;">context),mimetype='text/plain')</span></pre>
<ul>
<li>And my_dynamic_div_template.html, with the paginated list:</li>
</ul>
<pre><span style="font-family: courier new,monospace;"> ...</span><span style="font-family: courier new,monospace;">
{% autopaginate list 6 %}</span><span style="font-family: courier new,monospace;">
 {% for element in list %}</span><span style="font-family: courier new,monospace;">
&nbsp; {{ element }}</span><span style="font-family: courier new,monospace;">
 {% endfor %}
</span><span style="font-family: courier new,monospace;">{% ajax_paginate %}
...</span></pre>
<p>I hope it’s usefull for you, too. If you need more details, just tell it.</p>
							</article>
		</div>
		<div class="entry-meta-bottom">
			<nav class="further-reading"><p class="prev">
        		<span>Previous Post</span>
        		<a href="http://bcurtu.com/?p=476">Canons de tamariu</a>
	        </p><p class="next">
        		<span>Next Post</span>
        		<a href="http://bcurtu.com/?p=482">Devolviendo a la comunidad</a>
	        </p></nav>            <div class="author-meta">
                <img alt="" src="./Django-pagination in an ajax div_files/cae6d927fb9a1d651c2bd79ed0578634" srcset="http://0.gravatar.com/avatar/cae6d927fb9a1d651c2bd79ed0578634?s=144&amp;d=mm&amp;r=g 2x" class="avatar avatar-72 photo" height="72" width="72" itemprop="image">                <div class="name-container">
                    <h4>
                        <a href="http://bcurtu.com/">Bosco</a>                    </h4>
                </div>
                <p></p>
            </div>
			<div class="entry-categories"><p><i class="fa fa-folder-open"></i><a href="http://bcurtu.com/?cat=25" title="View all posts in django/python">django/python</a></p></div>
			<div class="entry-tags"></div>
		</div>
    </div>

    <section id="comments" class="comments">
        <div class="comments-number">
            <h3>
                2 Comments            </h3>
        </div>
            <ol class="comment-list">
                        <li class="comment even thread-even depth-1" id="li-comment-965">
        <article id="comment-965" class="comment">
            <div class="comment-author"><img alt="" src="./Django-pagination in an ajax div_files/eb4d97ef2d55ef80267df3fd85f7a4a3" srcset="http://2.gravatar.com/avatar/eb4d97ef2d55ef80267df3fd85f7a4a3?s=192&amp;d=mm&amp;r=g 2x" class="avatar avatar-96 photo" height="96" width="96" itemprop="image">                <span class="author-name">david</span>
                <span> said:</span>
            </div>
            <div class="comment-content">
                                <p>exactly what I was searching for.</p>
<p>thanks for sharing this.</p>
<p>suggestion for you blog: it would be very useful for non spanish speaker (like me <img draggable="false" class="emoji" alt="😉" src="./Django-pagination in an ajax div_files/1f609.svg"> if you couldprovide rss feed for english posts only.</p>
<p>keep the good work</p>
            </div>
            <div class="comment-meta">
                <div class="comment-date">30 December, 2008</div>
                                <a itemprop="replyToUrl" rel="nofollow" class="comment-reply-link" href="http://bcurtu.com/?p=478&amp;replytocom=965#respond" onclick="return addComment.moveForm( &quot;comment-965&quot;, &quot;965&quot;, &quot;respond&quot;, &quot;478&quot; )" aria-label="Reply to david">Reply</a>            </div>

        </article>
    </li>
    <!-- #comment-## -->
    <li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-2677">
        <article id="comment-2677" class="comment">
            <div class="comment-author"><img alt="" src="./Django-pagination in an ajax div_files/892772c07839308bab7b39d7f0da584c" srcset="http://2.gravatar.com/avatar/892772c07839308bab7b39d7f0da584c?s=192&amp;d=mm&amp;r=g 2x" class="avatar avatar-96 photo" height="96" width="96" itemprop="image">                <span class="author-name">Hernan</span>
                <span> said:</span>
            </div>
            <div class="comment-content">
                                <p>Question:</p>
<p>context[‘ref_url’] = reverse(‘an_ajax_list-view’,args=[])<br>
shouldn’t that be list_view (notice the underscore instead of the dash)</p>
<p>Other that than excellent work.</p>
            </div>
            <div class="comment-meta">
                <div class="comment-date">8 August, 2009</div>
                                <a itemprop="replyToUrl" rel="nofollow" class="comment-reply-link" href="http://bcurtu.com/?p=478&amp;replytocom=2677#respond" onclick="return addComment.moveForm( &quot;comment-2677&quot;, &quot;2677&quot;, &quot;respond&quot;, &quot;478&quot; )" aria-label="Reply to Hernan">Reply</a>            </div>

        </article>
    </li>
    <!-- #comment-## -->
            </ol><!-- .comment-list -->
                        				<div id="respond" class="comment-respond">
			<h3 id="reply-title" class="comment-reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="http://bcurtu.com/?p=478#respond" style="display:none;">Cancel reply</a></small></h3>				<form action="http://bcurtu.com/wp-comments-post.php" method="post" id="commentform" class="comment-form" novalidate="">
					<p class="comment-notes"><span id="email-notes">Your email address will not be published.</span> Required fields are marked <span class="required">*</span></p><p class="comment-form-comment">
            <label class="screen-reader-text">Your Comment</label>
			<textarea required="" placeholder="Enter Your Comment…" id="comment" name="comment" cols="45" rows="8" aria-required="true"></textarea>
		</p><p class="comment-form-author">
		    <label class="screen-reader-text">Your Name</label>
			<input required="" placeholder="Your Name*" id="author" name="author" type="text" aria-required="true" value="" size="30">
    	</p>
<p class="comment-form-email">
    	    <label class="screen-reader-text">Your Email</label>
    		<input required="" placeholder="Your Email*" id="email" name="email" type="email" aria-required="true" value="" size="30">
    	</p>
<p class="comment-form-url">
		    <label class="screen-reader-text">Your Website URL</label>
			<input placeholder="Your URL" id="url" name="url" type="url" value="" size="30">
    	</p>
<p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="Post Comment"> <input type="hidden" name="comment_post_ID" value="478" id="comment_post_ID">
<input type="hidden" name="comment_parent" id="comment_parent" value="0">
</p><p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="7d3ef21b50"></p><script type="text/javascript" src="./Django-pagination in an ajax div_files/form.js"></script>
<p style="display: none;"></p>				<input type="hidden" id="ak_js" name="ak_js" value="1481304365876"></form>
					</div><!-- #respond -->
		  
    </section><!-- #comments -->
<script type="text/javascript">
	var _gaq = _gaq || [];
	_gaq.push(['_setAccount', 'UA-1906268-4']);
_gaq.push(['_trackPageview']);

	(function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	})();
</script>
</div> <!-- .main -->

<div id="sidebar-primary-container" class="sidebar-primary-container">
    
    <div class="sidebar sidebar-primary" id="sidebar-primary" role="complementary">

        <section id="hybrid-search-2" class="widget widget-search widget_search"><h3 class="widget-title">Busca</h3><div class="search-form-container">
    <form role="search" method="get" class="search-form" action="http://bcurtu.com/">
        <label class="screen-reader-text">Search for:</label>
        <input type="search" class="search-field" placeholder="Search..." value="" name="s" title="Search for:">
        <input type="submit" class="search-submit" value="Go">
    </form>
</div></section><section id="recent-comments-2" class="widget widget_recent_comments"><h3 class="widget-title">Ultimos Comentarios</h3><ul id="recentcomments"><li class="recentcomments"><span class="comment-author-link"><a href="http://bcurtu.com/" rel="external nofollow" class="url fn n" itemprop="url"><span itemprop="name">Bosco</span></a></span> on <a href="http://bcurtu.com/?p=862&amp;cpage=1#comment-9923">Vulnerabilidad en ElasticSearch 1.1</a></li><li class="recentcomments"><span class="comment-author-link">Ochoto</span> on <a href="http://bcurtu.com/?p=862&amp;cpage=1#comment-9922">Vulnerabilidad en ElasticSearch 1.1</a></li><li class="recentcomments"><span class="comment-author-link">Carlos A Sanchez</span> on <a href="http://bcurtu.com/?p=832&amp;cpage=1#comment-9764">Personas, una implementación en django</a></li><li class="recentcomments"><span class="comment-author-link"><a href="http://www.tesubi.com/" rel="external nofollow" class="url fn n" itemprop="url"><span itemprop="name">Ricardo</span></a></span> on <a href="http://bcurtu.com/?p=832&amp;cpage=1#comment-9762">Personas, una implementación en django</a></li><li class="recentcomments"><span class="comment-author-link"><a href="http://jcamanom07@gmail.com/" rel="external nofollow" class="url fn n" itemprop="url"><span itemprop="name">Julieta Cecibel Camaño</span></a></span> on <a href="http://bcurtu.com/?p=818&amp;cpage=1#comment-9569">Vuelve el Amigo Invisible Online</a></li></ul></section>		<section id="recent-posts-2" class="widget widget_recent_entries">		<h3 class="widget-title">Ultimos Posts</h3>		<ul>
					<li>
				<a href="http://bcurtu.com/?p=905">django-sermepa (redsys) actualizado y mejorado</a>
						</li>
					<li>
				<a href="http://bcurtu.com/?p=898">Globalizing a django project. How I launched boolino in the UK and other countries</a>
						</li>
					<li>
				<a href="http://bcurtu.com/?p=887">Internacionalizar un proyecto django. Cómo implanté boolino en UK y otros países</a>
						</li>
					<li>
				<a href="http://bcurtu.com/?p=869">ElasticSearch + Haystack en español</a>
						</li>
					<li>
				<a href="http://bcurtu.com/?p=862">Vulnerabilidad en ElasticSearch 1.1</a>
						</li>
				</ul>
		</section>		
    </div><!-- #sidebar-primary -->

</div>

</div> <!-- .overflow-container -->

<footer class="site-footer" role="contentinfo">
    <h3><a href="http://bcurtu.com/">Bosco Curtu</a></h3>
    <span>@bcurtu en twitter</span>
    <div class="design-credit">
        <span><a href="http://www.competethemes.com/ignite/">Ignite WordPress Theme</a> by Compete Themes</span>
    </div>
</footer>

<script type="text/javascript" src="./Django-pagination in an ajax div_files/production.min.js"></script>
<script type="text/javascript" src="./Django-pagination in an ajax div_files/wp-embed.min.js"></script>

</body></html>